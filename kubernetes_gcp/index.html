



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://charlesreid1.github.io/2019-snakemake-byok8s/kubernetes_gcp/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching pages">
      
        <meta name="lang:search.result.one" content="1 matching page">
      
        <meta name="lang:search.result.other" content="# matching page">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="..">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.3">
    
    
      
        <title>K8s with GCP - 2019-snakemake-byok8s</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#kubernetes-on-google-cloud-platform" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://charlesreid1.github.io/2019-snakemake-byok8s" title="2019-snakemake-byok8s" class="md-header-nav__button md-logo">
          
            <img src="../images/ship.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                2019-snakemake-byok8s
              </span>
              <span class="md-header-nav__topic">
                K8s with GCP
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search this site" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching this site
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/charlesreid1/2019-snakemake-byok8s" title="Go to repository" class="md-source" data-md-source="github">
    
    <div class="md-source__repository">
      2019-snakemake-byok8s
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://charlesreid1.github.io/2019-snakemake-byok8s" title="2019-snakemake-byok8s" class="md-nav__button md-logo">
      
        <img src="../images/ship.svg" width="48" height="48">
      
    </a>
    2019-snakemake-byok8s
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/charlesreid1/2019-snakemake-byok8s" title="Go to repository" class="md-source" data-md-source="github">
    
    <div class="md-source__repository">
      2019-snakemake-byok8s
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Index" class="md-nav__link">
      Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installing/" title="Installing" class="md-nav__link">
      Installing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../kubernetes_minikube/" title="K8s with Minikube" class="md-nav__link">
      K8s with Minikube
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        K8s with GCP
      </label>
    
    <a href="./" title="K8s with GCP" class="md-nav__link md-nav__link--active">
      K8s with GCP
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-kubernetes-engine" title="Google Kubernetes Engine" class="md-nav__link">
    Google Kubernetes Engine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" title="Quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../kubernetes_aws/" title="K8s with AWS" class="md-nav__link">
      K8s with AWS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../kubernetes_dok/" title="K8s with DigitalOcean" class="md-nav__link">
      K8s with DigitalOcean
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../travis_tests/" title="Travis Tests" class="md-nav__link">
      Travis Tests
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-kubernetes-engine" title="Google Kubernetes Engine" class="md-nav__link">
    Google Kubernetes Engine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" title="Quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="kubernetes-on-google-cloud-platform">Kubernetes on Google Cloud Platform<a class="headerlink" href="#kubernetes-on-google-cloud-platform" title="Permanent link">&para;</a></h1>
<p>This document will walk you through how to start a kubernetes cluster using the
Google Kubernetes Engine (GKE) on Google Cloud Platform (GCP), run the byok8s
Snakemake workflow on the GKE kubernetes cluster, and tear down the cluster
when the workflow is complete.</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<p>Before you can create a kubernetes cluster on Google Cloud,
you need a Google Cloud account and a Google Cloud project.
You can sign up for a Google Cloud account <a href="https://cloud.google.com/">here</a>.
You can create a new project from the <a href="https://console.cloud.google.com/">Google Cloud Console</a>.
New accounts start with 300 free hours specifically to let you
test drive features like GKE! Cool!</p>
<p>Once you have your account and your project, you can install
the <code>gcloud</code> Google Cloud SDK command line utility 
(see <a href="https://cloud.google.com/sdk/docs/quickstarts">Google Cloud SDK Quickstart Guide</a>).</p>
<p>Once you have installed the <code>gcloud</code> utility, you will need 
to log in with your Google acount using the <code>init</code> command:</p>
<div class="codehilite"><pre><span></span>gcloud init
</pre></div>


<p>This will give you a link to enter into your browser, where 
you will log in with your Google account and recieve a code to
copy and paste into the terminal.</p>
<p>The <strong>Compute API</strong> and <strong>Kubernetes API</strong> will both need to be
enabled as well. These can be enabled via the 
<a href="https://console.cloud.google.com/">Google Cloud Console</a>
(or read on).</p>
<p>If you aren't sure how to use the console to enable these APIs, just start
running the commands below to create a kubernetes cluster, and the gcloud
utility will let you know if it needs APIs enabled for actions.  If it can't
enable the API for you, it will give you a direct link to the relevant Google
Cloud Console page.</p>
<h2 id="google-kubernetes-engine">Google Kubernetes Engine<a class="headerlink" href="#google-kubernetes-engine" title="Permanent link">&para;</a></h2>
<p>GKE uses Google Cloud compute nodes to run a kubernetes cluster
on Google Cloud infrastructure. It automatically sets up the
cluster for you, and allows you to use <code>kubectl</code> and <code>gcloud</code> to
manage and interact with the remote cluster.</p>
<p>Official Google link: <a href="https://cloud.google.com/kubernetes-engine/">https://cloud.google.com/kubernetes-engine/</a></p>
<h2 id="quickstart">Quickstart<a class="headerlink" href="#quickstart" title="Permanent link">&para;</a></h2>
<p>As mentioned, make sure your account credentials are initialized:</p>
<div class="codehilite"><pre><span></span>gcloud init
</pre></div>


<p>Create a new GKE cluster:</p>
<div class="codehilite"><pre><span></span>gcloud container clusters create $CLUSTER_NAME --num-nodes=$NODES --region=us-west1
</pre></div>


<p>The <code>--scopes storage-rw</code> flag is required if you plan to use Google
Cloud buckets instead of S3 buckets (not currently enabled in byok8s).</p>
<p>Next get configuration details about the cluster so your local 
kubernetes controller can control the cluster:</p>
<div class="codehilite"><pre><span></span>gcloud container clusters get-credentials $CLUSTER_NAME
</pre></div>


<p><strong>This will take several minutes.</strong></p>
<p>The cluster should now be up and running and ready to rock:</p>
<div class="codehilite"><pre><span></span>$ kubectl get pods --namespace=kube-system
NAME                                                  READY   STATUS    RESTARTS   AGE
event-exporter-v0.2.3-54f94754f4-5jczv                2/2     Running   0          4m
fluentd-gcp-scaler-6d7bbc67c5-hkllz                   1/1     Running   0          4m
fluentd-gcp-v3.1.0-48pb2                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-58dpx                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-c4b49                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-h24m5                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-hbdj4                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-rfnmt                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-vwd8w                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-wxt79                              2/2     Running   0          2m
fluentd-gcp-v3.1.0-xkt42                              2/2     Running   0          2m
heapster-v1.5.3-bc9f6bfd5-7jhqs                       3/3     Running   0          3m
kube-dns-788979dc8f-l7hch                             4/4     Running   0          4m
kube-dns-788979dc8f-pts99                             4/4     Running   0          3m
kube-dns-autoscaler-79b4b844b9-j48js                  1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-9ad2912e-130p   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-9ad2912e-lfpw   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-9ad2912e-rt9m   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-b44fa389-2ds8   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-b44fa389-hc66   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-b44fa389-vh3x   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-d58ee1e7-2kkw   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-d58ee1e7-3l6r   1/1     Running   0          4m
kube-proxy-gke-mycluster-default-pool-d58ee1e7-4w18   1/1     Running   0          4m
l7-default-backend-5d5b9874d5-ms75l                   1/1     Running   0          4m
metrics-server-v0.2.1-7486f5bd67-2n6cn                2/2     Running   0          3m
</pre></div>


<p>Now assuming you have installed <code>byok8s</code> and it is located
at <code>~/2019-snakemake-byok8s/</code>, you can run the test workflow
on the kubernetes cluster:</p>
<div class="codehilite"><pre><span></span># Return to our virtual environment
cd ~/2019-snakemake-byok8s/test/
source vp/bin/activate

# Export AWS keys for Snakemake
export AWS_ACCESS_KEY_ID=&quot;XXXXX&quot;
export AWS_SECRET_ACCESS_KEY=&quot;XXXXX&quot;

# Run byok8s
byok8s workflow-alpha params-blue --s3-bucket=mah-bukkit 
</pre></div>


<p>Once the workflow has run successfully, the results will be written
to S3 buckets and all the kubernetes containers created by snakemake
will be gone. </p>
<p>If all goes well, you should see output like this:</p>
<div class="codehilite"><pre><span></span>$ byok8s --s3-bucket=mah-bukkit -f workflow-alpha params-blue
--------
details!
    snakefile: /home/ubuntu/2019-snakemake-byok8s/test/Snakefile
    config: /home/ubuntu/2019-snakemake-byok8s/test/workflow-alpha.json
    params: /home/ubuntu/2019-snakemake-byok8s/test/params-blue.json
    target: target1
    k8s namespace: default
--------
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
    count   jobs
    1   target1
    1
Resources before job selection: {&#39;_cores&#39;: 1, &#39;_nodes&#39;: 9223372036854775807}
Ready jobs (1):
    target1
Selected jobs (1):
    target1
Resources after job selection: {&#39;_cores&#39;: 0, &#39;_nodes&#39;: 9223372036854775806}

[Mon Jan 28 23:49:51 2019]
rule target1:
    output: cmr-0123/alpha.txt
    jobid: 0

echo alpha blue &gt; cmr-0123/alpha.txt
Get status with:
kubectl describe pod snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
kubectl logs snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
Checking status for pod snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
Checking status for pod snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
Checking status for pod snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
Checking status for pod snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
Checking status for pod snakejob-1ab52bdb-903b-5506-b712-ccc86772dc8d
[Mon Jan 28 23:50:41 2019]
Finished job 0.
1 of 1 steps (100%) done
Complete log: /home/ubuntu/2019-snakemake-byok8s/test/.snakemake/log/2019-01-28T234950.253823.snakemake.log
unlocking
removing lock
removing lock
removed all locks
</pre></div>


<p>Congratulations! You'e just run an executable Snakemake workflow
on a Google Cloud kubernetes cluster!</p>
<p>You can get more information about the containers running each step of 
the workflow using the <code>kubectl describe</code> commands printed in the output.
Here is an example:</p>
<div class="codehilite"><pre><span></span>$ kubectl describe pod snakejob-c91f804c-805a-56a2-b0ea-b3b74bc38001
Name:         snakejob-c91f804c-805a-56a2-b0ea-b3b74bc38001
Namespace:    default
Node:         gke-mycluster-default-pool-b44fa389-vh3x/10.138.0.7
Start Time:   Mon, 28 Jan 2019 23:55:18 -0800
Labels:       app=snakemake
Annotations:  &lt;none&gt;
Status:       Running
IP:           10.0.6.4
Containers:
  snakejob-c91f804c-805a-56a2-b0ea-b3b74bc38001:
    Container ID:  docker://2aaa04c34770c6088334b29c0332dc426aff2fbbd3a8af07b65bbbc2c5fe437d
    Image:         quay.io/snakemake/snakemake:v5.4.0
    Image ID:      docker-pullable://quay.io/snakemake/snakemake@sha256:f5bb7bef99c4e45cb7dfd5b55535b8dc185b43ca610341476378a9566a8b52c5
    Port:          &lt;none&gt;
    Host Port:     &lt;none&gt;
    Command:
      /bin/sh
    Args:
      -c
      cp -rf /source/. . &amp;&amp; snakemake cmr-0123/.zetaB1 --snakefile Snakefile --force -j --keep-target-files  --keep-remote --latency-wait 0  --attempt 1 --force-use-threads --wrapper-prefix None --config &#39;name=&#39;&quot;&#39;&quot;&#39;blue&#39;&quot;&#39;&quot;&#39;&#39; -p --nocolor --notemp --no-hooks --nolock  --default-remote-provider S3 --default-remote-prefix cmr-0123  --allowed-rules target3sleepyB1
    State:          Running
      Started:      Mon, 28 Jan 2019 23:56:15 -0800
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:  0
    Environment:
      AWS_ACCESS_KEY_ID:      &lt;set to the key &#39;aws_access_key_id&#39; in secret &#39;e077a45f-1274-4a98-a76c-d1a9718707db&#39;&gt;      Optional: false
      AWS_SECRET_ACCESS_KEY:  &lt;set to the key &#39;aws_secret_access_key&#39; in secret &#39;e077a45f-1274-4a98-a76c-d1a9718707db&#39;&gt;  Optional: false
    Mounts:
      /source from source (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-jmnv4 (ro)
Conditions:
  Type           Status
  Initialized    True
  Ready          True
  PodScheduled   True
Volumes:
  source:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  e077a45f-1274-4a98-a76c-d1a9718707db
    Optional:    false
  workdir:
    Type:    EmptyDir (a temporary directory that shares a pod&#39;s lifetime)
    Medium:
  default-token-jmnv4:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-jmnv4
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason                 Age   From                                               Message
  ----    ------                 ----  ----                                               -------
  Normal  Scheduled              63s   default-scheduler                                  Successfully assigned snakejob-c91f804c-805a-56a2-b0ea-b3b74bc38001 to gke-mycluster-default-pool-b44fa389-vh3x
  Normal  SuccessfulMountVolume  63s   kubelet, gke-mycluster-default-pool-b44fa389-vh3x  MountVolume.SetUp succeeded for volume &quot;workdir&quot;
  Normal  SuccessfulMountVolume  63s   kubelet, gke-mycluster-default-pool-b44fa389-vh3x  MountVolume.SetUp succeeded for volume &quot;default-token-jmnv4&quot;
  Normal  SuccessfulMountVolume  63s   kubelet, gke-mycluster-default-pool-b44fa389-vh3x  MountVolume.SetUp succeeded for volume &quot;source&quot;
  Normal  Pulling                61s   kubelet, gke-mycluster-default-pool-b44fa389-vh3x  pulling image &quot;quay.io/snakemake/snakemake:v5.4.0&quot;
  Normal  Pulled                 10s   kubelet, gke-mycluster-default-pool-b44fa389-vh3x  Successfully pulled image &quot;quay.io/snakemake/snakemake:v5.4.0&quot;
  Normal  Created                6s    kubelet, gke-mycluster-default-pool-b44fa389-vh3x  Created container
  Normal  Started                6s    kubelet, gke-mycluster-default-pool-b44fa389-vh3x  Started container
</pre></div>


<p>Delete the GKE cluster when you are done:</p>
<div class="codehilite"><pre><span></span>gcloud container clusters delete $CLUSTER_NAME
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../kubernetes_minikube/" title="K8s with Minikube" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                K8s with Minikube
              </span>
            </div>
          </a>
        
        
          <a href="../kubernetes_aws/" title="K8s with AWS" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                K8s with AWS
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://charlesreid1.com">Charles Reid</a>, released under the <a href="https://opensource.org/licenses/MIT">MIT license</a> <br /><br /> <div>Icon made by Freepik, obtained from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>, used under a <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div> license.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.e72fd936.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../search/main.js"></script>
      
    
    
      
    
  </body>
</html>